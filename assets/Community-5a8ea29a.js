import{f as k,a2 as R,r as g,o as n,c,b as s,k as j,v as H,a as e,j as K,c0 as O,n as T,F as x,i as F,w as h,d as q,t as y,Q as G,l as Y,c1 as B,c2 as Z,H as E}from"./vendor-8a63fcb9.js";import{_ as I}from"./index-ff4f84b9.js";const ee=["placeholder"],te={__name:"SearchField",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Поиск..."}},emits:["update:modelValue","search"],setup(b,{emit:p}){const v=b,m=p,o=k(v.modelValue),i=k(!1);R(()=>v.modelValue,S=>{o.value=S});const V=()=>{m("update:modelValue",o.value)},P=()=>{m("search",o.value)};return(S,d)=>{const U=g("v-icon");return n(),c("div",{class:"search-bar",onClick:d[4]||(d[4]=K(()=>{},["stop"]))},[s(U,{icon:"mdi-magnify",class:"search-icon"}),j(e("input",{type:"text",placeholder:b.placeholder,"onUpdate:modelValue":d[0]||(d[0]=$=>o.value=$),onFocus:d[1]||(d[1]=$=>i.value=!0),onBlur:d[2]||(d[2]=$=>i.value=!1),onClick:d[3]||(d[3]=K(()=>{},["stop"])),onInput:V,onKeyup:O(P,["enter"])},null,40,ee),[[H,o.value]]),e("div",{class:T(["search-glow",{active:i.value}])},null,2)])}}},z=I(te,[["__scopeId","data-v-a9d03e3d"]]);const ae={class:"filters-sidebar"},le={class:"filters"},se={class:"filter-group"},oe=["onClick"],ne={class:"trending-topics"},ie={class:"topics-list"},de={class:"topic-name"},ce={class:"topic-count"},re={__name:"FiltersSidebar",props:{modelValue:{type:String,required:!0},filters:{type:Array,required:!0},topics:{type:Array,required:!0}},emits:["update:modelValue"],setup(b){return(p,v)=>{const m=g("v-icon");return n(),c("div",ae,[e("div",le,[v[0]||(v[0]=e("div",{class:"filters-header"},[e("h3",null,"Фильтры")],-1)),e("div",se,[(n(!0),c(x,null,F(b.filters,(o,i)=>(n(),c("div",{key:i,class:T(["filter-item",{active:b.modelValue===o.id}]),onClick:V=>p.$emit("update:modelValue",o.id)},[s(m,null,{default:h(()=>[q(y(o.icon),1)]),_:2},1024),e("span",null,y(o.title),1)],10,oe))),128))])]),e("div",ne,[v[1]||(v[1]=e("h3",null,"Популярные темы",-1)),e("div",ie,[(n(!0),c(x,null,F(b.topics,(o,i)=>(n(),c("div",{key:i,class:"topic-item"},[e("span",de,y(o.name),1),e("span",ce,y(o.count),1)]))),128))])])])}}},Q=I(re,[["__scopeId","data-v-5b306f02"]]);const ve={class:"modal-header"},ue={class:"modal-content"},me={class:"post-type-selector"},pe=["onClick"],_e={class:"post-content"},fe={key:0,class:"media-preview"},he=["src"],ge=["onClick"],ye={class:"post-actions"},ke={class:"modal-footer"},we=["disabled"],Ce={__name:"CreatePostModal",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","post-created"],setup(b,{emit:p}){const v=p,m=k("text"),o=k(""),i=k([]),V=k(null),P=[{id:"text",title:"Текст",icon:"mdi-text"},{id:"media",title:"Медиа",icon:"mdi-image"}],S=G(()=>o.value.trim().length>0||i.value.length>0),d=()=>{v("update:modelValue",!1)},U=()=>{V.value.click()},$=w=>{Array.from(w.target.files).forEach(C=>{const l=new FileReader;l.onload=t=>{i.value.push({file:C,preview:t.target.result})},l.readAsDataURL(C)})},M=w=>{i.value.splice(w,1)},A=()=>{const w={type:m.value,content:o.value,media:i.value.map(u=>u.preview)};v("post-created",w),o.value="",i.value=[],m.value="text",d()};return(w,u)=>{const C=g("v-icon"),l=g("v-btn"),t=g("v-card"),_=g("v-dialog");return n(),Y(_,{"model-value":b.modelValue,"onUpdate:modelValue":u[1]||(u[1]=f=>w.$emit("update:modelValue",f)),"max-width":"600",class:"create-post-modal",fullscreen:w.$vuetify.display.mobile},{default:h(()=>[s(t,{class:"modal-card"},{default:h(()=>[e("div",ve,[u[3]||(u[3]=e("h2",null,"Создать пост",-1)),s(l,{icon:"",onClick:d},{default:h(()=>[s(C,null,{default:h(()=>u[2]||(u[2]=[q("mdi-close")])),_:1})]),_:1})]),e("div",ue,[e("div",me,[(n(),c(x,null,F(P,f=>e("button",{key:f.id,class:T(["type-btn",{active:m.value===f.id}]),onClick:L=>m.value=f.id},[s(C,{icon:f.icon,class:"type-icon"},null,8,["icon"]),e("span",null,y(f.title),1)],10,pe)),64))]),e("div",_e,[j(e("textarea",{"onUpdate:modelValue":u[0]||(u[0]=f=>o.value=f),placeholder:"Поделитесь своими мыслями...",class:"post-textarea"},null,512),[[H,o.value]]),i.value.length?(n(),c("div",fe,[(n(!0),c(x,null,F(i.value,(f,L)=>(n(),c("div",{key:L,class:"media-item"},[e("img",{src:f.preview,alt:"Preview"},null,8,he),e("button",{class:"remove-media",onClick:D=>M(L)},[s(C,{icon:"mdi-close"})],8,ge)]))),128))])):B("",!0),e("div",ye,[e("button",{class:"action-btn",onClick:U},[s(C,{icon:"mdi-image-plus"}),u[4]||(u[4]=e("span",null,"Добавить медиа",-1))]),e("input",{type:"file",ref_key:"fileInput",ref:V,multiple:"",accept:"image/*,video/*",onChange:$,class:"hidden"},null,544)])])]),e("div",ke,[e("button",{class:"cancel-btn",onClick:d},"Отмена"),e("button",{class:"publish-btn",disabled:!S.value,onClick:A}," Опубликовать ",8,we)])]),_:1})]),_:1},8,["model-value","fullscreen"])}}},be=I(Ce,[["__scopeId","data-v-e7ddce61"]]);const Ve={class:"community"},$e={class:"community-content"},xe={class:"community-sidebar d-none d-md-block"},Fe={class:"search-container"},Se={class:"community-main"},Pe={class:"feed-container"},Ue={class:"feed-header"},Le={class:"feed-controls d-md-none"},Ie={class:"filter-menu"},Me={class:"filter-menu-header"},Ae={class:"search-container"},Ne={class:"feed-actions"},Be={class:"feed"},Te={class:"post-header"},qe={class:"post-author"},De=["src","alt"],Ke={class:"author-info"},Ee={class:"post-time"},ze={class:"post-content"},Qe=["src","alt"],Re={class:"post-actions"},je={key:0,class:"post-comments"},He=["src","alt"],Oe={class:"comment-content"},Ge={class:"comment-header"},Je={class:"comment-author"},We={class:"comment-time"},Xe={class:"post-comment-input"},Ye={__name:"Community",setup(b){const p=k(""),v=k("all"),m=k(!1),o=[{id:"all",title:"Все",icon:"mdi-view-dashboard"},{id:"popular",title:"Популярные",icon:"mdi-fire"},{id:"following",title:"Подписки",icon:"mdi-account-group"},{id:"trending",title:"В тренде",icon:"mdi-trending-up"}],i=[{name:"#AI",count:"1.2k"},{name:"#Искусство",count:"856"},{name:"#Технологии",count:"723"},{name:"#Творчество",count:"512"},{name:"#Разработка",count:"489"}],V=k([{id:1,author:{name:"Neo",avatar:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=identicon&f=y"},time:"2 часа назад",content:"Только что создал нового аватара с улучшенными возможностями ИИ!",image:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=identicon&s=600&f=y",liked:!1,comments:[{author:{name:"Luna",avatar:"https://www.gravatar.com/avatar/11111111111111111111111111111111?d=identicon&f=y"},time:"1 час назад",content:"Выглядит потрясающе! Какие новые возможности добавил?"}],newComment:""},{id:2,author:{name:"Luna",avatar:"https://www.gravatar.com/avatar/11111111111111111111111111111111?d=identicon&f=y"},time:"5 часов назад",content:"Поделюсь своим новым художественным проектом, созданным с помощью моего аватара",image:"https://www.gravatar.com/avatar/22222222222222222222222222222222?d=identicon&s=600&f=y",liked:!0,comments:[],newComment:""}]),P=[{id:"save",title:"Сохранить",icon:"mdi-bookmark-outline"},{id:"report",title:"Пожаловаться",icon:"mdi-flag-outline"},{id:"share",title:"Поделиться",icon:"mdi-share-variant"}],S=G(()=>{let l=V.value;switch(p.value&&(l=l.filter(t=>t.content.toLowerCase().includes(p.value.toLowerCase())||t.author.name.toLowerCase().includes(p.value.toLowerCase()))),v.value){case"popular":l=l.sort((t,_)=>_.comments.length-t.comments.length);break;case"following":break;case"trending":l=l.sort((t,_)=>_.liked-t.liked);break}return l}),d=k(!1),U=l=>{V.value.unshift({id:Date.now(),author:{name:"Neo",avatar:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=identicon&f=y"},time:"Только что",content:l.content,image:l.media[0]||null,liked:!1,comments:[],newComment:""})},$=l=>{l.liked=!l.liked},M=l=>{console.log("Комментирование поста...",l)},A=l=>{console.log("Шаринг поста...",l)},w=l=>{l.newComment.trim()&&(l.comments.push({author:{name:"Current User",avatar:"https://www.gravatar.com/avatar/33333333333333333333333333333333?d=identicon&f=y"},time:"Только что",content:l.newComment}),l.newComment="")},u=(l,t)=>{switch(l){case"save":console.log("Сохранение поста...",t);break;case"report":console.log("Жалоба на пост...",t);break;case"share":console.log("Шаринг поста...",t);break}},C=l=>{console.log("Searching:",l)};return R(m,l=>{l?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}),(l,t)=>{const _=g("v-btn"),f=g("v-dialog"),L=g("v-list-item"),D=g("v-list"),J=g("v-menu"),W=g("v-text-field");return n(),c("div",Ve,[t[11]||(t[11]=Z('<div class="community-header" data-v-c88f3897><div class="header-content" data-v-c88f3897><h1 data-v-c88f3897>Сообщество</h1><p class="subtitle" data-v-c88f3897>Присоединяйтесь к сообществу и общайтесь с другими пользователями</p></div><div class="header-particles" data-v-c88f3897><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div><div class="particle" data-v-c88f3897></div></div></div>',1)),e("div",$e,[e("div",xe,[e("div",Fe,[s(z,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=a=>p.value=a),placeholder:"Поиск в сообществе...",onSearch:C},null,8,["modelValue"])]),s(Q,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),filters:o,topics:i},null,8,["modelValue"])]),e("div",Se,[e("div",Pe,[e("div",Ue,[e("div",Le,[s(f,{modelValue:m.value,"onUpdate:modelValue":t[5]||(t[5]=a=>m.value=a),width:"300",location:"center",scrollable:""},{activator:h(({props:a})=>[s(_,E({class:"filter-btn","prepend-icon":"mdi-filter"},a),{default:h(()=>t[8]||(t[8]=[q(" Фильтры ")])),_:2},1040)]),default:h(()=>[e("div",Ie,[e("div",Me,[t[9]||(t[9]=e("h3",null,"Фильтры",-1)),s(_,{icon:"mdi-close",variant:"text",size:"small",class:"close-btn d-md-none",onClick:t[2]||(t[2]=a=>m.value=!1)})]),e("div",Ae,[s(z,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=a=>p.value=a),placeholder:"Поиск в сообществе...",onSearch:C},null,8,["modelValue"])]),s(Q,{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=a=>v.value=a),filters:o,topics:i},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),e("div",Ne,[s(_,{class:"create-post-btn","prepend-icon":"mdi-plus",onClick:t[6]||(t[6]=a=>d.value=!0)},{default:h(()=>t[10]||(t[10]=[e("span",{class:"btn-text d-none d-sm-inline"},"Сказать",-1),e("span",{class:"btn-glow"},null,-1)])),_:1})])]),e("div",Be,[(n(!0),c(x,null,F(S.value,(a,X)=>(n(),c("div",{key:X,class:"post-card"},[e("div",Te,[e("div",qe,[e("img",{src:a.author.avatar,alt:a.author.name},null,8,De),e("div",Ke,[e("h4",null,y(a.author.name),1),e("p",Ee,y(a.time),1)])]),s(J,null,{activator:h(({props:r})=>[s(_,E({icon:"mdi-dots-vertical",variant:"text",ref_for:!0},r),null,16)]),default:h(()=>[s(D,null,{default:h(()=>[(n(),c(x,null,F(P,(r,N)=>s(L,{key:N,"prepend-icon":r.icon,title:r.title,onClick:Ze=>u(r.id,a)},null,8,["prepend-icon","title","onClick"])),64))]),_:2},1024)]),_:2},1024)]),e("div",ze,[e("p",null,y(a.content),1),a.image?(n(),c("img",{key:0,src:a.image,alt:a.content,class:"post-image"},null,8,Qe)):B("",!0)]),e("div",Re,[s(_,{variant:"text",icon:a.liked?"mdi-heart":"mdi-heart-outline",color:a.liked?"error":"",onClick:r=>$(a)},null,8,["icon","color","onClick"]),s(_,{variant:"text",icon:"mdi-comment-outline",onClick:r=>M(a)},null,8,["onClick"]),s(_,{variant:"text",icon:"mdi-share-variant",onClick:r=>A(a)},null,8,["onClick"])]),a.comments.length?(n(),c("div",je,[(n(!0),c(x,null,F(a.comments,(r,N)=>(n(),c("div",{key:N,class:"comment"},[e("img",{src:r.author.avatar,alt:r.author.name},null,8,He),e("div",Oe,[e("div",Ge,[e("span",Je,y(r.author.name),1),e("span",We,y(r.time),1)]),e("p",null,y(r.content),1)])]))),128))])):B("",!0),e("div",Xe,[s(W,{modelValue:a.newComment,"onUpdate:modelValue":r=>a.newComment=r,placeholder:"Написать комментарий...",variant:"outlined",density:"compact","hide-details":"",onKeyup:O(r=>w(a),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])]))),128))])])])]),s(be,{modelValue:d.value,"onUpdate:modelValue":t[7]||(t[7]=a=>d.value=a),onPostCreated:U},null,8,["modelValue"])])}}},at=I(Ye,[["__scopeId","data-v-c88f3897"]]);export{at as default};
